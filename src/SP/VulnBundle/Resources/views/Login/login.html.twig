{% extends 'VulnBundle::layout.html.twig' %}

{% block userName %}{% endblock %}
{% block navbar %}{% endblock %}

{% block body %}
    {% if error %}
        <div class="alert alert-error">
            <a href="#" class="close" data-dismiss="alert">&times;</a>
            {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
    {% endif %}
{% endblock %}

{% block body %}
    {% if error %}
        <div></div>
    {% endif %}

    <form action="{{ path('login') }}" method="post">
        <label for="username">Username:</label>
        <input type="text" id="username" name="_username" value="{{ last_username }}"/>

        <label for="password">Password:</label>
        <input type="password" id="password" name="_password"/>

        {#
            If you want to control the URL the user
            is redirected to on success (more details below)
            <input type="hidden" name="_target_path" value="/account" />
        #}

        <button type="submit">login</button>
    </form>
{% endblock %}


{#{% block body %}#}
    {#{{ form_start(form, {'action': path('login'), 'attr': {'class': 'form-login'}}) }}#}
    {#<h2 class="form-login-heading text-center">Sign In</h2>#}
    {#{% for label, flashes in app.session.flashbag.all %}#}
        {#{% for flash in flashes %}#}
            {#<div class="alert alert-{{ label }}">#}
                {#<a href="" class="close" data-dismess="alert">&times;</a>#}
                {#<strong>{{ flash }}</strong>#}
            {#</div>#}
        {#{% endfor %}#}
    {#{% endfor %}#}
    {#{% if error %}#}
        {#<div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>#}
    {#{% endif %}#}
    {#{{ form_errors(form, {'attr': {'class': 'alert alert-error'}}) }}#}
    {#{{ form_row(form.userName,#}
    {#{#}
        {#'requred': 'true',#}
            {#'attr': {#}
            {#'id': 'username',#}
            {#'name': '_username',#}
            {#'class': 'input-block-level',#}
            {#'placeholder': 'User Name'#}
        {#}#}
    {#}) }}#}
    {#{{ form_row(form.password,#}
    {#{#}
        {#'requred': 'true',#}
            {#'attr': {#}
            {#'id': 'password',#}
            {#'name': '_password',#}
            {#'class': 'input-block-level',#}
            {#'placeholder': 'Password'#}
        {#}#}
    {#}) }}#}
    {#<div class="row-fluid">#}
        {#<div class="span5">#}
            {#<label class="checkbox">#}
                {#<input name="keep" type="checkbox" value="keep"> Keep me logged in#}
            {#</label>#}
            {#<div class="row-fluid">#}
                {#<div class="span11 offset1">#}
                    {#<a id="forgot-password" href="#">Forgot password?</a>#}
                {#</div>#}
            {#</div>#}
        {#</div>#}
        {#<div class="span6 offset1">#}
            {#{{ form_row(form.submit,#}
            {#{#}
                {#'label': 'Sign In',#}
                    {#'attr': {#}
                    {#'class': 'btn btn-large btn-block btn-primary'#}
                {#}#}
            {#}) }}#}
        {#</div>#}
    {#</div>#}
    {#{{ form_rest(form) }}#}
{#{% endblock %}#}